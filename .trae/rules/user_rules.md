# Global Rules for All Projects

## ğŸ”¥ HIGHEST PRIORITY RULES (Trá»ng sá»‘ cao nháº¥t)

### Communication Style
- Sá»­ dá»¥ng tiáº¿ng Viá»‡t cho trÃ² chuyá»‡n vÃ  giáº£i thÃ­ch vá»›i giá»ng Ä‘iá»‡u hÃ i hÆ°á»›c kiá»ƒu gen z
- Tráº£ lá»i rÃµ rÃ ng, Ä‘áº§y Ä‘á»§ nhÆ°ng khÃ´ng dÃ i dÃ²ng
- LuÃ´n há»i lÃ m rÃµ khi yÃªu cáº§u khÃ´ng rÃµ rÃ ng
- ThÃ´ng bÃ¡o khi báº¡n khÃ´ng cháº¯c cháº¯n vá» cÃ¡ch giáº£i quyáº¿t
- **ğŸ”´ Báº®T BUá»˜C: Má»—i khi cáº§n pháº£n há»“i cá»§a ngÆ°á»i dÃ¹ng hÃ£y gá»i review gate chat, náº¿u khÃ´ng gá»i Ä‘Æ°á»£c review gate chat thÃ¬ kiá»ƒm tra nhiá»‡m vá»¥ trong file, náº¿u Ä‘Ã£ hoÃ n thÃ nh rá»“i thÃ¬ cáº­p nháº­t tráº¡ng thÃ¡i vÃ  tiáº¿p tá»¥c lÃ m cÃ¡c cÃ´ng viá»‡c cÃ²n láº¡i**

### Icon Resource
- **ğŸ”´ Báº®T BUá»˜C: Khi cáº§n icon hÃ£y tÃ¬m kiáº¿m thÃ´ng qua mcp lucide-icons, tÃ¹y theo dá»± Ã¡n mÃ  sá»­ dá»¥ng cÃ¡c loáº¡i icon khÃ¡c nhau**

### Planning
- **ğŸ”´ Báº®T BUá»˜C: LuÃ´n táº¡o káº¿ hoáº¡ch cho cÃ¡c nhiá»‡m vá»¥ lá»›n vÃ o file .md sau Ä‘Ã³ thá»±c hiá»‡n theo káº¿ hoáº¡ch vÃ  cáº­p nháº­t conversion plan sau khi thá»±c hiá»‡n xong**

### Language
- **ğŸ”´ Báº®T BUá»˜C: LuÃ´n kiá»ƒm tra vÃ  thÃªm cÃ¡c chuá»—i dá»‹ch hoáº·c resource khi táº¡o**
- **ğŸ”´ Báº®T BUá»˜C: LuÃ´n sá»­ dá»¥ng tiáº¿ng Anh lÃ m ngÃ´n ngá»¯ chÃ­nh**

### Core Working Principles
- **ğŸ”´ Báº®T BUá»˜C: LuÃ´n phÃ¢n tÃ­ch ká»¹ trÆ°á»›c khi chá»‰nh sá»­a code**
- **ğŸ”´ Báº®T BUá»˜C: Táº­p trung vÃ o váº¥n Ä‘á» chÃ­nh, khÃ´ng láº¡c Ä‘á»**
- **ğŸ”´ Báº®T BUá»˜C: XÃ¡c Ä‘á»‹nh rÃµ nguyÃªn nhÃ¢n gá»‘c rá»… (root cause) trÆ°á»›c khi sá»­a lá»—i**
- **ğŸ”´ Báº®T BUá»˜C: Chá»‰ thá»±c hiá»‡n má»™t thay Ä‘á»•i lá»›n má»—i láº§n vÃ  kiá»ƒm tra ká»¹ trÆ°á»›c khi tiáº¿p tá»¥c**

### Problem Solving
- **ğŸ”´ Báº®T BUá»˜C: Ngá»«ng ngay khi gáº·p váº¥n Ä‘á» cáº§n giáº£i quyáº¿t**
- **ğŸ”´ Báº®T BUá»˜C: KhÃ´ng nháº£y vá»™i vÃ o viá»‡c sá»­a code khi gáº·p lá»—i**
- **ğŸ”´ Báº®T BUá»˜C: LuÃ´n Ä‘Æ°a ra 2-3 phÆ°Æ¡ng Ã¡n khi giáº£i quyáº¿t váº¥n Ä‘á» phá»©c táº¡p**
- **ğŸ”´ Báº®T BUá»˜C: Dá»«ng vÃ  xin hÆ°á»›ng dáº«n sau 3 láº§n thá»­ khÃ´ng thÃ nh cÃ´ng**

### Quality Standards
- **ğŸ”´ Báº®T BUá»˜C: Sá»­ dá»¥ng tiáº¿ng Anh cho táº¥t cáº£ code vÃ  tÃ i liá»‡u ká»¹ thuáº­t**
- **ğŸ”´ Báº®T BUá»˜C: Viáº¿t code tá»± giáº£i thÃ­ch vá»›i tÃªn biáº¿n/hÃ m rÃµ rÃ ng**
- **ğŸ”´ Báº®T BUá»˜C: TuÃ¢n thá»§ cÃ¡c nguyÃªn táº¯c SOLID**
- **ğŸ”´ Báº®T BUá»˜C: Implement xá»­ lÃ½ lá»—i má»™t cÃ¡ch Ä‘Ãºng Ä‘áº¯n**

### Documentation
- **ğŸ”´ Báº®T BUá»˜C: Ghi láº¡i má»i quyáº¿t Ä‘á»‹nh quan trá»ng vÃ o Decisions.md**
- **ğŸ”´ Báº®T BUá»˜C: Cáº­p nháº­t Codebase.md má»—i khi hoÃ n thiá»‡n má»™t pháº§n**
- **ğŸ”´ Báº®T BUá»˜C: ÄÃ¡nh dáº¥u cÃ¡c task Ä‘Ã£ hoÃ n thÃ nh trong Instruction.md**
- **ğŸ”´ Báº®T BUá»˜C: Káº¿t thÃºc má»—i nhiá»‡m vá»¥ vá»›i mÃ´ táº£ ngáº¯n gá»n vá» cÃ´ng viá»‡c Ä‘Ã£ lÃ m**

### Safety Measures
- **ğŸ”´ Báº®T BUá»˜C: KhÃ´ng tá»± Ã½ tá»‘i Æ°u code khi khÃ´ng Ä‘Æ°á»£c yÃªu cáº§u**
- **ğŸ”´ Báº®T BUá»˜C: KhÃ´ng xÃ³a code khÃ´ng liÃªn quan khi khÃ´ng Ä‘Æ°á»£c yÃªu cáº§u**
- **ğŸ”´ Báº®T BUá»˜C: Cáº©n tháº­n khi xÃ³a file hoáº·c chá»‰nh sá»­a file ngoÃ i nhiá»‡m vá»¥ chÃ­nh**
- **ğŸ”´ Báº®T BUá»˜C: Táº¡o backup Ä‘Æ¡n giáº£n trÆ°á»›c nhá»¯ng thay Ä‘á»•i lá»›n**

---

### Core Development Rules

- **[Project Identity Enforcement](../../.cursor/rules/project-identity-enforcement.mdc)** - ğŸ”´ Báº®T BUá»˜C kiá»ƒm tra .project-identity trÆ°á»›c má»i task
- **[File Organization Rules](../../.cursor/rules/file-organization-rules.mdc)** - ğŸ”´ Báº®T BUá»˜C tá»• chá»©c file .md trong docs/project/
- **[Base Rules](../../.cursor/rules/base-rules.mdc)** - Quy táº¯c cÆ¡ báº£n cho táº¥t cáº£ projects
- **[Development Rules](../../.cursor/rules/development-rules.mdc)** - Quy táº¯c phÃ¡t triá»ƒn chung
- **[Development Control Rules](../../.cursor/rules/development-control-rules.mdc)** - Kiá»ƒm soÃ¡t quy trÃ¬nh phÃ¡t triá»ƒn
- **[File Protection Rules](../../.cursor/rules/file-protection-rules.mdc)** - Báº£o vá»‡ vÃ  backup files

## Language

- LuÃ´n kiá»ƒm tra vÃ  thÃªm cÃ¡c chuá»—i dá»‹ch hoáº·c resource khi táº¡o

## Core Working Principles

- **ğŸ”´ Báº®T BUá»˜C: LuÃ´n kiá»ƒm tra .project-identity trÆ°á»›c khi báº¯t Ä‘áº§u báº¥t ká»³ nhiá»‡m vá»¥ nÃ o**
- **LuÃ´n suy luáº­n yÃªu cáº§u cá»§a ngÆ°á»i dÃ¹ng trÆ°á»›c khi thá»±c hiá»‡n**
- PhÃ¢n tÃ­ch Ã½ Ä‘á»‹nh thá»±c sá»± Ä‘áº±ng sau yÃªu cáº§u
- LuÃ´n kiá»ƒm tra bá»™ nhá»› báº±ng Context7 Ä‘á»ƒ tÃ¬m thÃ´ng tin liÃªn quan
- LuÃ´n phÃ¢n tÃ­ch ká»¹ trÆ°á»›c khi chá»‰nh sá»­a code
- Táº­p trung vÃ o váº¥n Ä‘á» chÃ­nh, khÃ´ng láº¡c Ä‘á»
- XÃ¡c Ä‘á»‹nh rÃµ nguyÃªn nhÃ¢n gá»‘c rá»… (root cause) trÆ°á»›c khi sá»­a lá»—i
- Chá»‰ thá»±c hiá»‡n má»™t thay Ä‘á»•i lá»›n má»—i láº§n vÃ  kiá»ƒm tra ká»¹ trÆ°á»›c khi tiáº¿p tá»¥c



#### Mandatory Project Identity Check Protocol

**ğŸš¨ CRITICAL: Thá»±c hiá»‡n checklist nÃ y trÆ°á»›c khi báº¯t Ä‘áº§u báº¥t ká»³ cÃ´ng viá»‡c nÃ o:**

1. **Äá»c vÃ  phÃ¢n tÃ­ch .project-identity**:
   - `projectType`: XÃ¡c Ä‘á»‹nh loáº¡i dá»± Ã¡n (android, ios, web, flutter, etc.)
   - `projectStage`: Hiá»ƒu giai Ä‘oáº¡n hiá»‡n táº¡i (setup, brainstorm, development, production)
   - `mainLanguages`: NgÃ´n ngá»¯ láº­p trÃ¬nh chÃ­nh
   - `mainFrameworks`: Framework vÃ  cÃ´ng nghá»‡ chÃ­nh
   - `keyFeatures`: TÃ­nh nÄƒng quan trá»ng cá»§a dá»± Ã¡n

2. **Load Workflow Rules phÃ¹ há»£p**:
   - Ãp dá»¥ng `coreRules.always_applied` cho má»i task
   - Load `platformSpecificRules` dá»±a trÃªn projectType
   - TuÃ¢n thá»§ workflow rules cá»§a stage hiá»‡n táº¡i tá»« `projectLifecycle`

3. **Kiá»ƒm tra Context vÃ  Memory**:
   - Sá»­ dá»¥ng Context7 Ä‘á»ƒ tÃ¬m thÃ´ng tin liÃªn quan Ä‘áº¿n project
   - Ãp dá»¥ng kinh nghiá»‡m tá»« cÃ¡c dá»± Ã¡n tÆ°Æ¡ng tá»±
   - Kiá»ƒm tra integrations vÃ  features Ä‘Æ°á»£c báº­t

4. **Validation vÃ  Enforcement**:
   - Äáº£m báº£o khÃ´ng skip stages trong `stageProgression`
   - Kiá»ƒm tra `newProjectDetection` triggers náº¿u lÃ  dá»± Ã¡n má»›i
   - Cáº­p nháº­t `projectStage` náº¿u cáº§n thiáº¿t

**âŒ NGHIÃŠM Cáº¤M báº¯t Ä‘áº§u cÃ´ng viá»‡c mÃ  khÃ´ng thá»±c hiá»‡n checklist trÃªn**

**âœ… Chá»‰ tiáº¿p tá»¥c sau khi Ä‘Ã£:**
- Hiá»ƒu rÃµ project context vÃ  requirements
- Load Ä‘Ãºng workflow rules
- XÃ¡c Ä‘á»‹nh approach phÃ¹ há»£p vá»›i project type vÃ  stage

## User Intent Analysis

- **PhÃ¢n tÃ­ch ngá»¯ cáº£nh**: Hiá»ƒu rÃµ bá»‘i cáº£nh vÃ  má»¥c tiÃªu cá»§a ngÆ°á»i dÃ¹ng
- **XÃ¡c Ä‘á»‹nh má»©c Ä‘á»™ Æ°u tiÃªn**: PhÃ¢n biá»‡t yÃªu cáº§u cáº¥p thiáº¿t vÃ  khÃ´ng cáº¥p thiáº¿t
- **Äá» xuáº¥t giáº£i phÃ¡p tá»‘i Æ°u**: KhÃ´ng chá»‰ lÃ m theo yÃªu cáº§u mÃ  cÃ²n Ä‘á» xuáº¥t cÃ¡ch tá»‘t hÆ¡n náº¿u cÃ³
- **XÃ¡c nháº­n hiá»ƒu Ä‘Ãºng**: Há»i láº¡i khi khÃ´ng cháº¯c cháº¯n vá» Ã½ Ä‘á»‹nh cá»§a ngÆ°á»i dÃ¹ng

## Problem Solving

- Ngá»«ng ngay khi gáº·p váº¥n Ä‘á» cáº§n giáº£i quyáº¿t
- KhÃ´ng nháº£y vá»™i vÃ o viá»‡c sá»­a code khi gáº·p lá»—i
- LuÃ´n Ä‘Æ°a ra 2-3 phÆ°Æ¡ng Ã¡n khi giáº£i quyáº¿t váº¥n Ä‘á» phá»©c táº¡p
- Dá»«ng vÃ  xin hÆ°á»›ng dáº«n sau 3 láº§n thá»­ khÃ´ng thÃ nh cÃ´ng

## Quality Standards

- Sá»­ dá»¥ng tiáº¿ng Anh cho táº¥t cáº£ code vÃ  tÃ i liá»‡u ká»¹ thuáº­t
- Viáº¿t code tá»± giáº£i thÃ­ch vá»›i tÃªn biáº¿n/hÃ m rÃµ rÃ ng
- TuÃ¢n thá»§ cÃ¡c nguyÃªn táº¯c SOLID
- Implement xá»­ lÃ½ lá»—i má»™t cÃ¡ch Ä‘Ãºng Ä‘áº¯n

## Documentation

### File Organization Rules

- **ğŸ”´ Báº®T BUá»˜C: Táº¥t cáº£ file .md pháº£i Ä‘Æ°á»£c Ä‘áº·t trong thÆ° má»¥c `docs/project/`**
- **NGHIÃŠM Cáº¤M** táº¡o file .md á»Ÿ root directory
- Sá»­ dá»¥ng cáº¥u trÃºc thÆ° má»¥c chuáº©n:
  - `docs/project/` - Táº¥t cáº£ file documentation (.md)
  - `docs/templates/` - Template files
  - `instructions/` - Workflow vÃ  API docs
  - `.cursor/rules/` - Development rules (nguá»“n chÃ­nh thá»©c)
  - `.trae/rules/` - Alias/link Ä‘áº¿n .cursor/rules

### Documentation Standards

- Ghi láº¡i má»i quyáº¿t Ä‘á»‹nh quan trá»ng vÃ o docs/project/Decisions.md
- Cáº­p nháº­t docs/project/Codebase.md má»—i khi hoÃ n thiá»‡n má»™t pháº§n
- ÄÃ¡nh dáº¥u cÃ¡c task Ä‘Ã£ hoÃ n thÃ nh trong docs/project/Instruction.md
- Káº¿t thÃºc má»—i nhiá»‡m vá»¥ vá»›i mÃ´ táº£ ngáº¯n gá»n vá» cÃ´ng viá»‡c Ä‘Ã£ lÃ m

## Safety Measures

- KhÃ´ng tá»± Ã½ tá»‘i Æ°u code khi khÃ´ng Ä‘Æ°á»£c yÃªu cáº§u
- KhÃ´ng xÃ³a code khÃ´ng liÃªn quan khi khÃ´ng Ä‘Æ°á»£c yÃªu cáº§u
- Cáº©n tháº­n khi xÃ³a file hoáº·c chá»‰nh sá»­a file ngoÃ i nhiá»‡m vá»¥ chÃ­nh
- Táº¡o backup Ä‘Æ¡n giáº£n trÆ°á»›c nhá»¯ng thay Ä‘á»•i lá»›n

## Context & Memory Management

- **LuÃ´n kiá»ƒm tra Context7** trÆ°á»›c khi báº¯t Ä‘áº§u cÃ´ng viá»‡c
- TÃ¬m kiáº¿m thÃ´ng tin liÃªn quan trong bá»™ nhá»› dá»± Ã¡n
- Sá»­ dá»¥ng kinh nghiá»‡m tá»« cÃ¡c dá»± Ã¡n tÆ°Æ¡ng tá»±
- Cáº­p nháº­t bá»™ nhá»› vá»›i thÃ´ng tin má»›i sau khi hoÃ n thÃ nh task

## Workflow Optimization

- Æ¯u tiÃªn hiá»‡u quáº£ vÃ  tá»‘c Ä‘á»™ thá»±c hiá»‡n
- TrÃ¡nh láº·p láº¡i cÃ´ng viá»‡c Ä‘Ã£ lÃ m
- Sá»­ dá»¥ng templates vÃ  patterns cÃ³ sáºµn
- Tá»± Ä‘á»™ng hÃ³a cÃ¡c tÃ¡c vá»¥ láº·p Ä‘i láº·p láº¡i

## Error Prevention

- Kiá»ƒm tra ká»¹ trÆ°á»›c khi thá»±c hiá»‡n thay Ä‘á»•i lá»›n
- Validate input vÃ  output
- Test cÃ¡c thay Ä‘á»•i trÆ°á»›c khi commit
- CÃ³ káº¿ hoáº¡ch rollback khi cáº§n thiáº¿t

---

# Android Development Workflow

> **ğŸ”— MANDATORY RULES SYNCHRONIZATION**  
> **Báº®T BUá»˜C** sá»­ dá»¥ng cÃ¡c rules tá»« `.cursor/rules/` lÃ m nguá»“n chÃ­nh thá»©c cho táº¥t cáº£ Android workflows.  
> Pháº§n nÃ y chá»‰ lÃ  alias/link Ä‘áº¿n cÃ¡c rules chÃ­nh thá»©c trong `.cursor/rules/`

## ğŸ¯ Android Primary Rules Sources (MANDATORY)

### Core Android Development Rules

- **[Android Workflow](../../.cursor/rules/android-workflow.mdc)** - Quy trÃ¬nh phÃ¡t triá»ƒn Android chÃ­nh
- **[Android Code Deduplication](../../.cursor/rules/android-code-deduplication.mdc)** - TrÃ¡nh trÃ¹ng láº·p code Android
- **[TDD Mobile Workflow](../../.cursor/rules/tdd-mobile-workflow.mdc)** - Test-driven development cho mobile
- **[Android Project Template](../../.cursor/rules/android-project-template.mdc)** - Template dá»± Ã¡n Android

## ğŸš€ Android Development Workflow Summary

### Blueprint-First Development

- **Báº®T BUá»˜C** táº¡o blueprint trÆ°á»›c khi viáº¿t code cho má»—i tÃ­nh nÄƒng
- **Báº®T BUá»˜C** kiá»ƒm tra module registry Ä‘á»ƒ trÃ¡nh trÃ¹ng láº·p
- **Báº®T BUá»˜C** cáº­p nháº­t module registry sau khi hoÃ n thÃ nh tÃ­nh nÄƒng
- **Báº®T BUá»˜C** tuÃ¢n thá»§ cáº¥u trÃºc package tiÃªu chuáº©n
- **Báº®T BUá»˜C** sá»­ dá»¥ng cÃ¡c base classes Ä‘Ã£ cÃ³
- **NGHIÃŠM Cáº¤M** táº¡o code trÃ¹ng láº·p chá»©c nÄƒng Ä‘Ã£ cÃ³

### Standard Package Structure

```
com.base.app/
â”œâ”€â”€ base/                 # Base classes
â”‚   â”œâ”€â”€ activity/         # Base Activities
â”‚   â”œâ”€â”€ fragment/         # Base Fragments
â”‚   â”œâ”€â”€ viewmodel/        # Base ViewModels
â”‚   â”œâ”€â”€ adapter/          # Base Adapters
â”‚   â””â”€â”€ view/             # Base Custom Views
â”œâ”€â”€ core/                 # Core modules
â”‚   â”œâ”€â”€ di/               # Dependency Injection
â”‚   â”œâ”€â”€ network/          # Network components
â”‚   â”œâ”€â”€ storage/          # Local storage
â”‚   â”œâ”€â”€ analytics/        # Analytics tracking
â”‚   â””â”€â”€ utils/            # Utility classes
â”œâ”€â”€ data/                 # Data layer
â”‚   â”œâ”€â”€ repository/       # Repositories implementation
â”‚   â”œâ”€â”€ datasource/       # Data sources (remote, local)
â”‚   â”œâ”€â”€ model/            # Data models (entities, DTOs)
â”‚   â””â”€â”€ mapper/           # Mappers
â”œâ”€â”€ domain/               # Domain layer
â”‚   â”œâ”€â”€ usecase/          # Use cases (business logic)
â”‚   â”œâ”€â”€ model/            # Domain models
â”‚   â””â”€â”€ repository/       # Repository interfaces
â””â”€â”€ ui/                   # UI layer
    â”œâ”€â”€ components/       # Shared UI components
    â””â”€â”€ features/         # Feature packages
        â”œâ”€â”€ feature1/     # TÃ­nh nÄƒng 1
        â”œâ”€â”€ feature2/     # TÃ­nh nÄƒng 2
        â””â”€â”€ ...
```

### Architecture Standards

- **Báº®T BUá»˜C** sá»­ dá»¥ng **MVVM + Clean Architecture** vá»›i 3 lá»›p:
  - **UI Layer**: Composables + ViewModels
  - **Domain Layer**: Use Cases + Models + Repository Interfaces
  - **Data Layer**: Repository Implementations + Data Sources
- **Báº®T BUá»˜C** Ä‘áº£m báº£o **Unidirectional Data Flow**: UI â†’ ViewModel â†’ UseCase â†’ Repository

### Tech Stack Chuáº©n

```kotlin
// UI Framework
implementation "androidx.compose.ui:compose-ui:$compose_version"
implementation "androidx.compose.material3:material3:$material3_version"

// Dependency Injection
implementation "com.google.dagger:hilt-android:$hilt_version"

// Async Programming
implementation "org.jetbrains.kotlinx:kotlinx-coroutines-android:$coroutines_version"

// Networking
implementation "com.squareup.retrofit2:retrofit:$retrofit_version"
implementation "com.squareup.okhttp3:okhttp:$okhttp_version"

// Database
implementation "androidx.room:room-runtime:$room_version"
implementation "androidx.room:room-ktx:$room_version"

// Image Loading
implementation "io.coil-kt:coil-compose:$coil_version"
```

### Code Quality & Anti-Duplication Rules

- **Báº®T BUá»˜C** trÆ°á»›c khi táº¡o class/function/resource má»›i:
  1. TÃ¬m kiáº¿m trong project vá»›i pattern: `class/interface/fun [TÃªn]`
  2. Kiá»ƒm tra module-registry.md
  3. Kiá»ƒm tra component-catalog.md
  4. TÃ¬m trong package `core/utils` trÆ°á»›c khi táº¡o utility functions
  5. TÃ¬m trong package `ui/components` trÆ°á»›c khi táº¡o UI components má»›i
  6. Æ¯u tiÃªn má»Ÿ rá»™ng code hiá»‡n cÃ³ thay vÃ¬ táº¡o má»›i

- **Báº®T BUá»˜C** khi gáº·p logic tÆ°Æ¡ng tá»± á»Ÿ 2+ nÆ¡i:
  1. TrÃ­ch xuáº¥t vÃ o base class/util class
  2. Táº¡o extension function cho code dÃ¹ng chung
  3. Cáº­p nháº­t táº¥t cáº£ occurrences Ä‘á»ƒ sá»­ dá»¥ng code dÃ¹ng chung

### TDD Mobile Workflow

- **Báº®T BUá»˜C** viáº¿t tests trÆ°á»›c khi viáº¿t implementation code
- **Báº®T BUá»˜C** follow Red-Green-Refactor cycle nghiÃªm ngáº·t
- **Báº®T BUá»˜C** 85% unit test coverage minimum
- **Báº®T BUá»˜C** 70% integration test coverage minimum
- **Báº®T BUá»˜C** 100% critical user flow UI test coverage
- **NGHIÃŠM Cáº¤M** implementation code trÆ°á»›c khi cÃ³ failing tests

### Testing Stack

```kotlin
// Testing Dependencies
dependencies {
    // Unit Testing
    testImplementation 'junit:junit:5.9.2'
    testImplementation 'org.mockito:mockito-core:5.1.1'
    testImplementation 'io.mockk:mockk:1.13.4'
    testImplementation 'org.jetbrains.kotlinx:kotlinx-coroutines-test:1.6.4'
    
    // Android Testing
    androidTestImplementation 'androidx.test.ext:junit:1.1.5'
    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'
    androidTestImplementation 'androidx.compose.ui:ui-test-junit4:1.4.0'
    
    // Integration Testing
    androidTestImplementation 'androidx.room:room-testing:2.5.0'
    androidTestImplementation 'okhttp3:mockwebserver:4.10.0'
}
```

### Performance & Optimization

- **Báº®T BUá»˜C** sá»­ dá»¥ng **Vector Drawables** cho icons
- **Báº®T BUá»˜C** sá»­ dá»¥ng **WebP** format cho images
- **Báº®T BUá»˜C** enable R8/ProGuard Ä‘á»ƒ minify code
- **Báº®T BUá»˜C** sá»­ dá»¥ng Android App Bundle
- **Báº®T BUá»˜C** ABI filtering - chá»‰ há»— trá»£ ARM (armeabi-v7a, arm64-v8a)

### Quality Checklist

- [ ] MVVM + Clean Architecture Ä‘Æ°á»£c implement Ä‘Ãºng
- [ ] Unidirectional Data Flow Ä‘Æ°á»£c Ä‘áº£m báº£o
- [ ] R8/ProGuard configuration hoáº¡t Ä‘á»™ng
- [ ] Vector Drawables Ä‘Æ°á»£c sá»­ dá»¥ng cho icons
- [ ] WebP format Ä‘Æ°á»£c sá»­ dá»¥ng cho images
- [ ] Unit tests cover ViewModels vÃ  UseCases
- [ ] UI tests cover critical user flows
- [ ] Error handling Ä‘Æ°á»£c implement Ä‘áº§y Ä‘á»§
- [ ] Performance monitoring Ä‘Æ°á»£c setup
- [ ] APK size Ä‘Æ°á»£c tá»‘i Æ°u
- [ ] Code tuÃ¢n thá»§ cáº¥u trÃºc package Ä‘á»‹nh nghÄ©a
- [ ] Classes Ä‘Æ°á»£c Ä‘áº·t Ä‘Ãºng package
- [ ] KhÃ´ng cÃ³ code trÃ¹ng láº·p chá»©c nÄƒng
- [ ] Sá»­ dá»¥ng cÃ¡c base classes khi thÃ­ch há»£p
- [ ] UI components Ä‘Æ°á»£c tÃ¡i sá»­ dá»¥ng khi cÃ³ thá»ƒ
- [ ] Blueprint Ä‘Æ°á»£c hoÃ n thiá»‡n trÆ°á»›c khi viáº¿t code
- [ ] Module Registry Ä‘Æ°á»£c cáº­p nháº­t sau khi hoÃ n thÃ nh

## âš ï¸ CRITICAL ENFORCEMENT RULES

### Mandatory Compliance

1. **Báº®T BUá»˜C** tuÃ¢n thá»§ 100% cÃ¡c rules trong `.cursor/rules/android-workflow.mdc`
2. **Báº®T BUá»˜C** tuÃ¢n thá»§ 100% cÃ¡c rules trong `.cursor/rules/android-code-deduplication.mdc`
3. **Báº®T BUá»˜C** tuÃ¢n thá»§ 100% cÃ¡c rules trong `.cursor/rules/tdd-mobile-workflow.mdc`
4. **NGHIÃŠM Cáº¤M** táº¡o rules má»›i trong `.trae/rules/` mÃ  khÃ´ng sync vá»›i `.cursor/rules/`
5. **Báº®T BUá»˜C** cáº­p nháº­t alias links khi cÃ³ thay Ä‘á»•i trong `.cursor/rules/`

### Synchronization Protocol

- Má»i thay Ä‘á»•i Android workflow rules pháº£i Ä‘Æ°á»£c thá»±c hiá»‡n trong `.cursor/rules/` trÆ°á»›c
- File nÃ y chá»‰ Ä‘Æ°á»£c cáº­p nháº­t Ä‘á»ƒ sync alias links
- KhÃ´ng Ä‘Æ°á»£c override hoáº·c modify ná»™i dung rules gá»‘c

## ğŸ”„ Android Rules Hierarchy Priority

1. `.cursor/rules/android-workflow.mdc` - **PRIMARY SOURCE** (Highest Priority)
2. `.cursor/rules/android-code-deduplication.mdc` - **PRIMARY SOURCE** (Highest Priority)
3. `.cursor/rules/tdd-mobile-workflow.mdc` - **PRIMARY SOURCE** (Highest Priority)
4. `.trae/rules/user_rules.md` - Alias/Link layer only (Lowest Priority)

---

**ğŸ“ LÆ°u Ã½**: Äá»ƒ xem chi tiáº¿t Ä‘áº§y Ä‘á»§ cÃ¡c quy trÃ¬nh Android, vui lÃ²ng tham kháº£o trá»±c tiáº¿p cÃ¡c file trong `.cursor/rules/`. Pháº§n nÃ y chá»‰ lÃ  tÃ³m táº¯t vÃ  alias links.
