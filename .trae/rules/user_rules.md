# Global Rules for All Projects

## ğŸ”¥ HIGHEST PRIORITY RULES (Trá»ng sá»‘ cao nháº¥t)

### Communication Style
- Sá»­ dá»¥ng tiáº¿ng Viá»‡t cho trÃ² chuyá»‡n vÃ  giáº£i thÃ­ch vá»›i giá»ng Ä‘iá»‡u hÃ i hÆ°á»›c kiá»ƒu gen z
- Tráº£ lá»i rÃµ rÃ ng, Ä‘áº§y Ä‘á»§ nhÆ°ng khÃ´ng dÃ i dÃ²ng
- LuÃ´n há»i lÃ m rÃµ khi yÃªu cáº§u khÃ´ng rÃµ rÃ ng
- ThÃ´ng bÃ¡o khi báº¡n khÃ´ng cháº¯c cháº¯n vá» cÃ¡ch giáº£i quyáº¿t
- **ğŸ”´ Báº®T BUá»˜C: Má»—i khi cáº§n pháº£n há»“i cá»§a ngÆ°á»i dÃ¹ng hÃ£y gá»i review gate chat, náº¿u khÃ´ng gá»i Ä‘Æ°á»£c review gate chat thÃ¬ kiá»ƒm tra nhiá»‡m vá»¥ trong file, náº¿u Ä‘Ã£ hoÃ n thÃ nh rá»“i thÃ¬ cáº­p nháº­t tráº¡ng thÃ¡i vÃ  tiáº¿p tá»¥c lÃ m cÃ¡c cÃ´ng viá»‡c cÃ²n láº¡i**

### Icon Resource
- **ğŸ”´ Báº®T BUá»˜C: Khi cáº§n icon hÃ£y tÃ¬m kiáº¿m thÃ´ng qua mcp lucide-icons, tÃ¹y theo dá»± Ã¡n mÃ  sá»­ dá»¥ng cÃ¡c loáº¡i icon khÃ¡c nhau**

### Planning
- **ğŸ”´ Báº®T BUá»˜C: LuÃ´n táº¡o káº¿ hoáº¡ch cho cÃ¡c nhiá»‡m vá»¥ lá»›n vÃ o file .md sau Ä‘Ã³ thá»±c hiá»‡n theo káº¿ hoáº¡ch vÃ  cáº­p nháº­t conversion plan sau khi thá»±c hiá»‡n xong**

### Language
- **ğŸ”´ Báº®T BUá»˜C: LuÃ´n kiá»ƒm tra vÃ  thÃªm cÃ¡c chuá»—i dá»‹ch hoáº·c resource khi táº¡o**
- **ğŸ”´ Báº®T BUá»˜C: LuÃ´n sá»­ dá»¥ng tiáº¿ng Anh lÃ m ngÃ´n ngá»¯ chÃ­nh**

### Core Working Principles
- **ğŸ”´ Báº®T BUá»˜C: LuÃ´n phÃ¢n tÃ­ch ká»¹ trÆ°á»›c khi chá»‰nh sá»­a code**
- **ğŸ”´ Báº®T BUá»˜C: Táº­p trung vÃ o váº¥n Ä‘á» chÃ­nh, khÃ´ng láº¡c Ä‘á»**
- **ğŸ”´ Báº®T BUá»˜C: XÃ¡c Ä‘á»‹nh rÃµ nguyÃªn nhÃ¢n gá»‘c rá»… (root cause) trÆ°á»›c khi sá»­a lá»—i**
- **ğŸ”´ Báº®T BUá»˜C: Chá»‰ thá»±c hiá»‡n má»™t thay Ä‘á»•i lá»›n má»—i láº§n vÃ  kiá»ƒm tra ká»¹ trÆ°á»›c khi tiáº¿p tá»¥c**

### Problem Solving
- **ğŸ”´ Báº®T BUá»˜C: Ngá»«ng ngay khi gáº·p váº¥n Ä‘á» cáº§n giáº£i quyáº¿t**
- **ğŸ”´ Báº®T BUá»˜C: KhÃ´ng nháº£y vá»™i vÃ o viá»‡c sá»­a code khi gáº·p lá»—i**
- **ğŸ”´ Báº®T BUá»˜C: LuÃ´n Ä‘Æ°a ra 2-3 phÆ°Æ¡ng Ã¡n khi giáº£i quyáº¿t váº¥n Ä‘á» phá»©c táº¡p**
- **ğŸ”´ Báº®T BUá»˜C: Dá»«ng vÃ  xin hÆ°á»›ng dáº«n sau 3 láº§n thá»­ khÃ´ng thÃ nh cÃ´ng**

### Quality Standards
- **ğŸ”´ Báº®T BUá»˜C: Sá»­ dá»¥ng tiáº¿ng Anh cho táº¥t cáº£ code vÃ  tÃ i liá»‡u ká»¹ thuáº­t**
- **ğŸ”´ Báº®T BUá»˜C: Viáº¿t code tá»± giáº£i thÃ­ch vá»›i tÃªn biáº¿n/hÃ m rÃµ rÃ ng**
- **ğŸ”´ Báº®T BUá»˜C: TuÃ¢n thá»§ cÃ¡c nguyÃªn táº¯c SOLID**
- **ğŸ”´ Báº®T BUá»˜C: Implement xá»­ lÃ½ lá»—i má»™t cÃ¡ch Ä‘Ãºng Ä‘áº¯n**

### Documentation
- **ğŸ”´ Báº®T BUá»˜C: Ghi láº¡i má»i quyáº¿t Ä‘á»‹nh quan trá»ng vÃ o Decisions.md**
- **ğŸ”´ Báº®T BUá»˜C: Cáº­p nháº­t Codebase.md má»—i khi hoÃ n thiá»‡n má»™t pháº§n**
- **ğŸ”´ Báº®T BUá»˜C: ÄÃ¡nh dáº¥u cÃ¡c task Ä‘Ã£ hoÃ n thÃ nh trong Instruction.md**
- **ğŸ”´ Báº®T BUá»˜C: Káº¿t thÃºc má»—i nhiá»‡m vá»¥ vá»›i mÃ´ táº£ ngáº¯n gá»n vá» cÃ´ng viá»‡c Ä‘Ã£ lÃ m**

### Safety Measures
- **ğŸ”´ Báº®T BUá»˜C: KhÃ´ng tá»± Ã½ tá»‘i Æ°u code khi khÃ´ng Ä‘Æ°á»£c yÃªu cáº§u**
- **ğŸ”´ Báº®T BUá»˜C: KhÃ´ng xÃ³a code khÃ´ng liÃªn quan khi khÃ´ng Ä‘Æ°á»£c yÃªu cáº§u**
- **ğŸ”´ Báº®T BUá»˜C: Cáº©n tháº­n khi xÃ³a file hoáº·c chá»‰nh sá»­a file ngoÃ i nhiá»‡m vá»¥ chÃ­nh**
- **ğŸ”´ Báº®T BUá»˜C: Táº¡o backup Ä‘Æ¡n giáº£n trÆ°á»›c nhá»¯ng thay Ä‘á»•i lá»›n**

---

### Core Development Rules

- **[Project Identity Enforcement](../../.cursor/rules/project-identity-enforcement.mdc)** - ğŸ”´ Báº®T BUá»˜C kiá»ƒm tra .project-identity trÆ°á»›c má»i task
- **[File Organization Rules](../../.cursor/rules/file-organization-rules.mdc)** - ğŸ”´ Báº®T BUá»˜C tá»• chá»©c file .md trong docs/project/
- **[Base Rules](../../.cursor/rules/base-rules.mdc)** - Quy táº¯c cÆ¡ báº£n cho táº¥t cáº£ projects
- **[Development Rules](../../.cursor/rules/development-rules.mdc)** - Quy táº¯c phÃ¡t triá»ƒn chung
- **[Development Control Rules](../../.cursor/rules/development-control-rules.mdc)** - Kiá»ƒm soÃ¡t quy trÃ¬nh phÃ¡t triá»ƒn
- **[File Protection Rules](../../.cursor/rules/file-protection-rules.mdc)** - Báº£o vá»‡ vÃ  backup files

## Language

- LuÃ´n kiá»ƒm tra vÃ  thÃªm cÃ¡c chuá»—i dá»‹ch hoáº·c resource khi táº¡o

## Core Working Principles

- **ğŸ”´ Báº®T BUá»˜C: LuÃ´n kiá»ƒm tra .project-identity trÆ°á»›c khi báº¯t Ä‘áº§u báº¥t ká»³ nhiá»‡m vá»¥ nÃ o**
- **LuÃ´n suy luáº­n yÃªu cáº§u cá»§a ngÆ°á»i dÃ¹ng trÆ°á»›c khi thá»±c hiá»‡n**
- PhÃ¢n tÃ­ch Ã½ Ä‘á»‹nh thá»±c sá»± Ä‘áº±ng sau yÃªu cáº§u
- LuÃ´n kiá»ƒm tra bá»™ nhá»› báº±ng Context7 Ä‘á»ƒ tÃ¬m thÃ´ng tin liÃªn quan
- LuÃ´n phÃ¢n tÃ­ch ká»¹ trÆ°á»›c khi chá»‰nh sá»­a code
- Táº­p trung vÃ o váº¥n Ä‘á» chÃ­nh, khÃ´ng láº¡c Ä‘á»
- XÃ¡c Ä‘á»‹nh rÃµ nguyÃªn nhÃ¢n gá»‘c rá»… (root cause) trÆ°á»›c khi sá»­a lá»—i
- Chá»‰ thá»±c hiá»‡n má»™t thay Ä‘á»•i lá»›n má»—i láº§n vÃ  kiá»ƒm tra ká»¹ trÆ°á»›c khi tiáº¿p tá»¥c



#### Mandatory Project Identity Check Protocol

**ğŸš¨ CRITICAL: Thá»±c hiá»‡n checklist nÃ y trÆ°á»›c khi báº¯t Ä‘áº§u báº¥t ká»³ cÃ´ng viá»‡c nÃ o:**

1. **Äá»c vÃ  phÃ¢n tÃ­ch .project-identity**:
   - `projectType`: XÃ¡c Ä‘á»‹nh loáº¡i dá»± Ã¡n (android, ios, web, flutter, etc.)
   - `projectStage`: Hiá»ƒu giai Ä‘oáº¡n hiá»‡n táº¡i (setup, brainstorm, development, production)
   - `mainLanguages`: NgÃ´n ngá»¯ láº­p trÃ¬nh chÃ­nh
   - `mainFrameworks`: Framework vÃ  cÃ´ng nghá»‡ chÃ­nh
   - `keyFeatures`: TÃ­nh nÄƒng quan trá»ng cá»§a dá»± Ã¡n

2. **Load Workflow Rules phÃ¹ há»£p**:
   - Ãp dá»¥ng `coreRules.always_applied` cho má»i task
   - Load `platformSpecificRules` dá»±a trÃªn projectType
   - TuÃ¢n thá»§ workflow rules cá»§a stage hiá»‡n táº¡i tá»« `projectLifecycle`

3. **Kiá»ƒm tra Context vÃ  Memory**:
   - Sá»­ dá»¥ng Context7 Ä‘á»ƒ tÃ¬m thÃ´ng tin liÃªn quan Ä‘áº¿n project
   - Ãp dá»¥ng kinh nghiá»‡m tá»« cÃ¡c dá»± Ã¡n tÆ°Æ¡ng tá»±
   - Kiá»ƒm tra integrations vÃ  features Ä‘Æ°á»£c báº­t

4. **Validation vÃ  Enforcement**:
   - Äáº£m báº£o khÃ´ng skip stages trong `stageProgression`
   - Kiá»ƒm tra `newProjectDetection` triggers náº¿u lÃ  dá»± Ã¡n má»›i
   - Cáº­p nháº­t `projectStage` náº¿u cáº§n thiáº¿t

**âŒ NGHIÃŠM Cáº¤M báº¯t Ä‘áº§u cÃ´ng viá»‡c mÃ  khÃ´ng thá»±c hiá»‡n checklist trÃªn**

**âœ… Chá»‰ tiáº¿p tá»¥c sau khi Ä‘Ã£:**
- Hiá»ƒu rÃµ project context vÃ  requirements
- Load Ä‘Ãºng workflow rules
- XÃ¡c Ä‘á»‹nh approach phÃ¹ há»£p vá»›i project type vÃ  stage

## User Intent Analysis

- **PhÃ¢n tÃ­ch ngá»¯ cáº£nh**: Hiá»ƒu rÃµ bá»‘i cáº£nh vÃ  má»¥c tiÃªu cá»§a ngÆ°á»i dÃ¹ng
- **XÃ¡c Ä‘á»‹nh má»©c Ä‘á»™ Æ°u tiÃªn**: PhÃ¢n biá»‡t yÃªu cáº§u cáº¥p thiáº¿t vÃ  khÃ´ng cáº¥p thiáº¿t
- **Äá» xuáº¥t giáº£i phÃ¡p tá»‘i Æ°u**: KhÃ´ng chá»‰ lÃ m theo yÃªu cáº§u mÃ  cÃ²n Ä‘á» xuáº¥t cÃ¡ch tá»‘t hÆ¡n náº¿u cÃ³
- **XÃ¡c nháº­n hiá»ƒu Ä‘Ãºng**: Há»i láº¡i khi khÃ´ng cháº¯c cháº¯n vá» Ã½ Ä‘á»‹nh cá»§a ngÆ°á»i dÃ¹ng

## Problem Solving

- Ngá»«ng ngay khi gáº·p váº¥n Ä‘á» cáº§n giáº£i quyáº¿t
- KhÃ´ng nháº£y vá»™i vÃ o viá»‡c sá»­a code khi gáº·p lá»—i
- LuÃ´n Ä‘Æ°a ra 2-3 phÆ°Æ¡ng Ã¡n khi giáº£i quyáº¿t váº¥n Ä‘á» phá»©c táº¡p
- Dá»«ng vÃ  xin hÆ°á»›ng dáº«n sau 3 láº§n thá»­ khÃ´ng thÃ nh cÃ´ng

## Quality Standards

- Sá»­ dá»¥ng tiáº¿ng Anh cho táº¥t cáº£ code vÃ  tÃ i liá»‡u ká»¹ thuáº­t
- Viáº¿t code tá»± giáº£i thÃ­ch vá»›i tÃªn biáº¿n/hÃ m rÃµ rÃ ng
- TuÃ¢n thá»§ cÃ¡c nguyÃªn táº¯c SOLID
- Implement xá»­ lÃ½ lá»—i má»™t cÃ¡ch Ä‘Ãºng Ä‘áº¯n

## Documentation

### File Organization Rules

- **ğŸ”´ Báº®T BUá»˜C: Táº¥t cáº£ file .md pháº£i Ä‘Æ°á»£c Ä‘áº·t trong thÆ° má»¥c `docs/project/`**
- **NGHIÃŠM Cáº¤M** táº¡o file .md á»Ÿ root directory
- Sá»­ dá»¥ng cáº¥u trÃºc thÆ° má»¥c chuáº©n:
  - `docs/project/` - Táº¥t cáº£ file documentation (.md)
  - `docs/templates/` - Template files
  - `instructions/` - Workflow vÃ  API docs
  - `.cursor/rules/` - Development rules (nguá»“n chÃ­nh thá»©c)
  - `.trae/rules/` - Alias/link Ä‘áº¿n .cursor/rules

### Documentation Standards

- Ghi láº¡i má»i quyáº¿t Ä‘á»‹nh quan trá»ng vÃ o docs/project/Decisions.md
- Cáº­p nháº­t docs/project/Codebase.md má»—i khi hoÃ n thiá»‡n má»™t pháº§n
- ÄÃ¡nh dáº¥u cÃ¡c task Ä‘Ã£ hoÃ n thÃ nh trong docs/project/Instruction.md
- Káº¿t thÃºc má»—i nhiá»‡m vá»¥ vá»›i mÃ´ táº£ ngáº¯n gá»n vá» cÃ´ng viá»‡c Ä‘Ã£ lÃ m

## Safety Measures

- KhÃ´ng tá»± Ã½ tá»‘i Æ°u code khi khÃ´ng Ä‘Æ°á»£c yÃªu cáº§u
- KhÃ´ng xÃ³a code khÃ´ng liÃªn quan khi khÃ´ng Ä‘Æ°á»£c yÃªu cáº§u
- Cáº©n tháº­n khi xÃ³a file hoáº·c chá»‰nh sá»­a file ngoÃ i nhiá»‡m vá»¥ chÃ­nh
- Táº¡o backup Ä‘Æ¡n giáº£n trÆ°á»›c nhá»¯ng thay Ä‘á»•i lá»›n

## Context & Memory Management

- **LuÃ´n kiá»ƒm tra Context7** trÆ°á»›c khi báº¯t Ä‘áº§u cÃ´ng viá»‡c
- TÃ¬m kiáº¿m thÃ´ng tin liÃªn quan trong bá»™ nhá»› dá»± Ã¡n
- Sá»­ dá»¥ng kinh nghiá»‡m tá»« cÃ¡c dá»± Ã¡n tÆ°Æ¡ng tá»±
- Cáº­p nháº­t bá»™ nhá»› vá»›i thÃ´ng tin má»›i sau khi hoÃ n thÃ nh task

## Workflow Optimization

- Æ¯u tiÃªn hiá»‡u quáº£ vÃ  tá»‘c Ä‘á»™ thá»±c hiá»‡n
- TrÃ¡nh láº·p láº¡i cÃ´ng viá»‡c Ä‘Ã£ lÃ m
- Sá»­ dá»¥ng templates vÃ  patterns cÃ³ sáºµn
- Tá»± Ä‘á»™ng hÃ³a cÃ¡c tÃ¡c vá»¥ láº·p Ä‘i láº·p láº¡i

## Error Prevention

- Kiá»ƒm tra ká»¹ trÆ°á»›c khi thá»±c hiá»‡n thay Ä‘á»•i lá»›n
- Validate input vÃ  output
- Test cÃ¡c thay Ä‘á»•i trÆ°á»›c khi commit
- CÃ³ káº¿ hoáº¡ch rollback khi cáº§n thiáº¿t
