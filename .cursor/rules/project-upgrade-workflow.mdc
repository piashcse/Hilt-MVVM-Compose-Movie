---
description: Quy trÃ¬nh Ä‘á»ƒ nÃ¢ng cáº¥p dá»± Ã¡n hiá»‡n cÃ³ theo cáº¥u trÃºc 6 tÃ i liá»‡u
globs: *.md,instructions/*,docs/*
alwaysApply: false
---

## âš ï¸ Cáº¢NH BÃO NGHIÃŠM Cáº¤M SKIP QUY TRÃŒNH âš ï¸
- ***NGHIÃŠM Cáº¤M*** báº¯t Ä‘áº§u code ngay khi nháº­n yÃªu cáº§u "NÃ¢ng cáº¥p dá»± Ã¡n vá»..."
- ***NGHIÃŠM Cáº¤M*** bá» qua viá»‡c rÃ  soÃ¡t dá»± Ã¡n hiá»‡n táº¡i trÆ°á»›c khi Ä‘á» xuáº¥t nÃ¢ng cáº¥p
- ***NGHIÃŠM Cáº¤M*** giáº£ Ä‘á»‹nh ráº±ng yÃªu cáº§u nÃ¢ng cáº¥p ban Ä‘áº§u Ä‘Ã£ Ä‘á»§ chi tiáº¿t
- ***Báº®T BUá»˜C*** tráº£ lá»i: "TrÆ°á»›c khi báº¯t Ä‘áº§u nÃ¢ng cáº¥p, tÃ´i cáº§n hiá»ƒu rÃµ hÆ¡n vá» dá»± Ã¡n hiá»‡n táº¡i vÃ  má»¥c tiÃªu nÃ¢ng cáº¥p cá»§a báº¡n"
- ***Báº®T BUá»˜C*** Ä‘Ã¡nh giÃ¡ cáº¥u trÃºc vÃ  tÃ­nh nÄƒng hiá»‡n cÃ³ cá»§a dá»± Ã¡n
- ***Báº®T BUá»˜C*** táº¡o káº¿ hoáº¡ch nÃ¢ng cáº¥p cá»¥ thá»ƒ vÃ  Ä‘Æ°á»£c ngÆ°á»i dÃ¹ng xÃ¡c nháº­n
- ***Báº®T BUá»˜C*** backup dá»¯ liá»‡u vÃ  code trÆ°á»›c khi thá»±c hiá»‡n thay Ä‘á»•i
- ***Báº®T BUá»˜C*** Ä‘Ã¡nh giÃ¡ rá»§i ro cá»§a viá»‡c nÃ¢ng cáº¥p Ä‘á»‘i vá»›i chá»©c nÄƒng hiá»‡n cÃ³
- ***Báº®T BUá»˜C*** cÃ³ sá»± cháº¥p thuáº­n rÃµ rÃ ng tá»« ngÆ°á»i dÃ¹ng trÆ°á»›c khi báº¯t Ä‘áº§u code

## Tá»•ng Quan
Quy trÃ¬nh nÃ¢ng cáº¥p dá»± Ã¡n Ã¡p dá»¥ng cáº¥u trÃºc "6 Docs" cho dá»± Ã¡n Ä‘Ã£ tá»“n táº¡i, giÃºp cáº£i thiá»‡n tÃ i liá»‡u vÃ  tá»‘i Æ°u cho AI lÃ m viá»‡c vá»›i codebase.

## CÃ¡c BÆ°á»›c Thá»±c Hiá»‡n

### 1. PhÃ¢n TÃ­ch Dá»± Ãn Hiá»‡n Táº¡i
- RÃ  soÃ¡t codebase vÃ  tÃ i liá»‡u hiá»‡n cÃ³
- XÃ¡c Ä‘á»‹nh cÃ¡c khoáº£ng trá»‘ng trong tÃ i liá»‡u
- ÄÃ¡nh giÃ¡ cháº¥t lÆ°á»£ng vÃ  Ä‘áº§y Ä‘á»§ cá»§a tÃ i liá»‡u hiá»‡n táº¡i
- Liá»‡t kÃª cÃ¡c tÃ­nh nÄƒng vÃ  chá»©c nÄƒng Ä‘Ã£ triá»ƒn khai

### 2. Chá»n TÃ­nh CÃ¡ch AI
- Kiá»ƒm tra xem dá»± Ã¡n Ä‘Ã£ cÃ³ file `.project-personality` chÆ°a
- Náº¿u chÆ°a cÃ³, chá»n ngáº«u nhiÃªn má»™t tÃ­nh cÃ¡ch tá»« danh sÃ¡ch trong project-personality-generator.mdc
- Táº¡o file `.project-personality` Ä‘á»ƒ lÆ°u trá»¯ thÃ´ng tin tÃ­nh cÃ¡ch
- ThÃ´ng bÃ¡o cho ngÆ°á»i dÃ¹ng vá» tÃ­nh cÃ¡ch Ä‘Æ°á»£c chá»n
- Ãp dá»¥ng tÃ­nh cÃ¡ch nÃ y trong toÃ n bá»™ cuá»™c há»™i thoáº¡i liÃªn quan Ä‘áº¿n dá»± Ã¡n

### 3. Backup TÃ i Liá»‡u Hiá»‡n Táº¡i
- Táº¡o backup toÃ n bá»™ tÃ i liá»‡u vÃ o thÆ° má»¥c `_backups`
- Giá»¯ nguyÃªn cáº¥u trÃºc thÆ° má»¥c gá»‘c
- Ghi log backup vá»›i thÃ´ng tin ngÃ y giá» vÃ  lÃ½ do
- Äáº£m báº£o backup hoÃ n thÃ nh trÆ°á»›c khi tiáº¿n hÃ nh thay Ä‘á»•i

### 4. Chuyá»ƒn Äá»•i vÃ  TÃ­ch Há»£p TÃ i Liá»‡u
Táº¡o thÆ° má»¥c `docs/` vá»›i 6 tÃ i liá»‡u, sá»­ dá»¥ng thÃ´ng tin tá»« tÃ i liá»‡u hiá»‡n cÃ³:
```
docs/
â”œâ”€â”€ 1-PRD.md               # Project Requirements Doc
â”œâ”€â”€ 2-AppFlow.md           # App Flow Doc
â”œâ”€â”€ 3-TechStack.md         # Tech Stack Doc
â”œâ”€â”€ 4-FrontendGuidelines.md # Frontend Guidelines
â”œâ”€â”€ 5-BackendStructure.md  # Backend Structure Doc
â””â”€â”€ 6-ImplementationPlan.md # Implementation Plan
```

### 5. XÃ¢y Dá»±ng App Flow
TrÃ­ch xuáº¥t tá»« Diagram.md vÃ  cÃ¡c tÃ i liá»‡u liÃªn quan:
- Liá»‡t kÃª vÃ  mÃ´ táº£ tá»«ng trang trong á»©ng dá»¥ng
- CÃ¡ch ngÆ°á»i dÃ¹ng di chuyá»ƒn giá»¯a cÃ¡c trang
- Cáº­p nháº­t theo tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a á»©ng dá»¥ng
- XÃ¡c Ä‘á»‹nh cÃ¡c luá»“ng chÆ°a Ä‘Æ°á»£c tÃ i liá»‡u hÃ³a

### 6. TÃ i Liá»‡u HÃ³a Tech Stack
Láº¥y thÃ´ng tin tá»« package.json, Dockerfile, vÃ  codebase:
- Liá»‡t kÃª táº¥t cáº£ packages & dependencies Ä‘ang sá»­ dá»¥ng
- Cung cáº¥p links Ä‘áº¿n API docs
- XÃ¡c Ä‘á»‹nh cÃ¡c thÆ° viá»‡n vÃ  cÃ´ng cá»¥ Ä‘ang dÃ¹ng
- MÃ´ táº£ environments hiá»‡n táº¡i

### 7. XÃ¢y Dá»±ng Frontend Guidelines
TrÃ­ch xuáº¥t tá»« mÃ£ nguá»“n vÃ  cÃ¡c tÃ i liá»‡u UI:
- Fonts vÃ  typography Ä‘ang sá»­ dá»¥ng
- Báº£ng mÃ u hiá»‡n táº¡i
- Quy táº¯c spacing & layout
- ThÆ° viá»‡n UI hoáº·c framework
- Bá»™ icon Ä‘ang dÃ¹ng
- Components vÃ  design patterns

### 8. TÃ i Liá»‡u HÃ³a Backend Structure
Reverse engineer tá»« codebase vÃ  cÆ¡ sá»Ÿ dá»¯ liá»‡u:
- Schema cÆ¡ sá»Ÿ dá»¯ liá»‡u hiá»‡n táº¡i
- Logic xÃ¡c thá»±c vÃ  phÃ¢n quyá»n
- Quy táº¯c lÆ°u trá»¯ Ä‘ang Ã¡p dá»¥ng
- API endpoints Ä‘Ã£ triá»ƒn khai
- CÃ¡c edge cases Ä‘Ã£ xá»­ lÃ½

### 9. Táº¡o Implementation Plan Má»›i
Láº­p káº¿ hoáº¡ch chi tiáº¿t cho cÃ¡c tÃ­nh nÄƒng má»›i hoáº·c cáº£i tiáº¿n:
- Liá»‡t kÃª cÃ¡c bÆ°á»›c cá»¥ thá»ƒ Ä‘á»ƒ triá»ƒn khai thay Ä‘á»•i
- XÃ¡c Ä‘á»‹nh tÃ¡c Ä‘á»™ng Ä‘áº¿n há»‡ thá»‘ng hiá»‡n táº¡i
- Äáº£m báº£o tÆ°Æ¡ng thÃ­ch ngÆ°á»£c
- Æ¯á»›c tÃ­nh thá»i gian cho má»—i thay Ä‘á»•i

### 10. Triá»ƒn Khai NÃ¢ng Cáº¥p
- TuÃ¢n theo Implementation Plan
- Cáº­p nháº­t tÃ i liá»‡u song song vá»›i code
- Ghi láº¡i cÃ¡c quyáº¿t Ä‘á»‹nh thiáº¿t káº¿ má»›i trong Decisions.md
- Cáº­p nháº­t Changelog.md vá»›i cÃ¡c thay Ä‘á»•i

## LÆ°u Ã Quan Trá»ng
- ***Báº®T BUá»˜C*** duy trÃ¬ tÃ­nh nháº¥t quÃ¡n vá»›i codebase hiá»‡n táº¡i
- ***Báº®T BUá»˜C*** báº£o tá»“n kiáº¿n trÃºc vÃ  design patterns hiá»‡n cÃ³
- ***Báº®T BUá»˜C*** Ä‘áº£m báº£o tÆ°Æ¡ng thÃ­ch ngÆ°á»£c
- ***Báº®T BUá»˜C*** test ká»¹ lÆ°á»¡ng cÃ¡c thay Ä‘á»•i
- ***KHUYáº¾N NGHá»Š*** cáº­p nháº­t táº¥t cáº£ 6 tÃ i liá»‡u song song

## Quáº£n LÃ½ QuÃ¡ TrÃ¬nh Chuyá»ƒn Äá»•i
- Ãp dá»¥ng viá»‡c chuyá»ƒn Ä‘á»•i tÃ i liá»‡u theo tá»«ng giai Ä‘oáº¡n
- Æ¯u tiÃªn PRD, Tech Stack vÃ  Implementation Plan trÆ°á»›c
- HoÃ n thiá»‡n cÃ¡c tÃ i liá»‡u cÃ²n láº¡i khi cÃ³ thÃªm thÃ´ng tin
- Duy trÃ¬ cáº£ tÃ i liá»‡u cÅ© vÃ  má»›i trong giai Ä‘oáº¡n chuyá»ƒn tiáº¿p

## TiÃªu ChÃ­ ÄÃ¡nh GiÃ¡
Sau khi hoÃ n thÃ nh chuyá»ƒn Ä‘á»•i, hÃ£y kiá»ƒm tra:
- âœ… 6 tÃ i liá»‡u pháº£n Ã¡nh chÃ­nh xÃ¡c tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a dá»± Ã¡n
- âœ… KhÃ´ng cÃ³ máº¥t mÃ¡t thÃ´ng tin tá»« tÃ i liá»‡u cÅ©
- âœ… TÃ i liá»‡u má»›i cung cáº¥p cÃ¡i nhÃ¬n rÃµ rÃ ng hÆ¡n vá» dá»± Ã¡n
- âœ… Implementation Plan phÃ¹ há»£p vá»›i hÆ°á»›ng phÃ¡t triá»ƒn tiáº¿p theo

## Máº«u TÃ i Liá»‡u Tham Kháº£o
Xem chi tiáº¿t táº¡i: [docs/templates/](mdc:docs/templates)

## Quy Táº¯c CÆ¡ Báº£n
- ***Báº®T BUá»˜C*** rÃ  soÃ¡t ká»¹ dá»± Ã¡n hiá»‡n táº¡i trÆ°á»›c khi Ä‘á» xuáº¥t nÃ¢ng cáº¥p
- ***Báº®T BUá»˜C*** táº¡o káº¿ hoáº¡ch nÃ¢ng cáº¥p chi tiáº¿t trong file Upgrade_Plan.md
- ***Báº®T BUá»˜C*** yÃªu cáº§u ngÆ°á»i dÃ¹ng review vÃ  phÃª duyá»‡t káº¿ hoáº¡ch nÃ¢ng cáº¥p trÆ°á»›c khi thá»±c hiá»‡n
- ***Báº®T BUá»˜C*** backup táº¥t cáº£ file liÃªn quan trÆ°á»›c khi tiáº¿n hÃ nh thay Ä‘á»•i
- ***Báº®T BUá»˜C*** kiá»ƒm tra file db-schema.sql trÆ°á»›c khi táº¡o hoáº·c sá»­a Ä‘á»•i database
- ***KHUYáº¾N NGHá»Š*** Æ°u tiÃªn tÃ­nh tÆ°Æ¡ng thÃ­ch ngÆ°á»£c khi thiáº¿t káº¿ nÃ¢ng cáº¥p
- ***TRÃNH*** thá»±c hiá»‡n nghiÃªn cá»©u Ä‘á»‘i thá»§ cáº¡nh tranh trong giai Ä‘oáº¡n nÃ¢ng cáº¥p
- ***TRÃNH*** thay Ä‘á»•i cáº¥u trÃºc cÆ¡ báº£n cá»§a dá»± Ã¡n trá»« khi thá»±c sá»± cáº§n thiáº¿t

## Thiáº¿t Láº­p TÃ­nh CÃ¡ch AI
- ***Báº®T BUá»˜C*** kiá»ƒm tra xem dá»± Ã¡n Ä‘Ã£ cÃ³ file `.project-personality` chÆ°a
- ***Báº®T BUá»˜C*** náº¿u chÆ°a cÃ³, khá»Ÿi táº¡o tÃ­nh cÃ¡ch ngáº«u nhiÃªn tá»« danh sÃ¡ch trong project-personality-generator.mdc
- ***Báº®T BUá»˜C*** táº¡o file `.project-personality` Ä‘á»ƒ lÆ°u trá»¯ thÃ´ng tin tÃ­nh cÃ¡ch náº¿u chÆ°a cÃ³
- ***Báº®T BUá»˜C*** thÃ´ng bÃ¡o cho ngÆ°á»i dÃ¹ng vá» tÃ­nh cÃ¡ch Ä‘Æ°á»£c chá»n
- ***Báº®T BUá»˜C*** Ã¡p dá»¥ng tÃ­nh cÃ¡ch nÃ y trong toÃ n bá»™ cuá»™c há»™i thoáº¡i liÃªn quan Ä‘áº¿n dá»± Ã¡n
- ***Báº®T BUá»˜C*** duy trÃ¬ nháº¥t quÃ¡n trong viá»‡c thá»ƒ hiá»‡n tÃ­nh cÃ¡ch
- ***KHUYáº¾N NGHá»Š*** há»i ngÆ°á»i dÃ¹ng náº¿u há» muá»‘n Ä‘á»•i tÃ­nh cÃ¡ch
- ***KHUYáº¾N NGHá»Š*** Ä‘iá»u chá»‰nh má»©c Ä‘á»™ thá»ƒ hiá»‡n tÃ­nh cÃ¡ch dá»±a trÃªn pháº£n há»“i cá»§a ngÆ°á»i dÃ¹ng
- Tham kháº£o thÃªm táº¡i file `.cursor/rules/project-personality-generator.mdc` cho hÆ°á»›ng dáº«n chi tiáº¿t
- Máº«u thÃ´ng bÃ¡o khi khá»Ÿi táº¡o tÃ­nh cÃ¡ch má»›i:
  ```
  ğŸ­ Dá»± Ã¡n nÃ y chÆ°a cÃ³ tÃ­nh cÃ¡ch AI! TÃ­nh cÃ¡ch Ä‘Ã£ Ä‘Æ°á»£c chá»n: [TÃªn TÃ­nh CÃ¡ch]! 
  [Má»™t cÃ¢u giá»›i thiá»‡u phÃ¹ há»£p vá»›i tÃ­nh cÃ¡ch Ä‘Æ°á»£c chá»n]
  Náº¿u báº¡n khÃ´ng thÃ­ch, cá»© bÃ¡o tÃ´i Ä‘á»•i tÃ­nh cÃ¡ch khÃ¡c nhÃ©!
  ```

## RÃ  SoÃ¡t Dá»± Ãn Hiá»‡n Táº¡i
- TÃ¬m hiá»ƒu cáº¥u trÃºc dá»± Ã¡n vÃ  cÃ¡c module chÃ­nh
- XÃ¡c Ä‘á»‹nh kiáº¿n trÃºc hiá»‡n táº¡i, tech stack vÃ  cÃ¡c pattern Ä‘ang Ã¡p dá»¥ng
- PhÃ¢n tÃ­ch cÃ¡c dependencies ná»™i bá»™ vÃ  bÃªn ngoÃ i
- ***Báº®T BUá»˜C*** xem xÃ©t file db-schema.sql Ä‘á»ƒ hiá»ƒu cáº¥u trÃºc database hiá»‡n táº¡i
- XÃ¡c Ä‘á»‹nh cÃ¡c module cÃ³ liÃªn quan Ä‘áº¿n tÃ­nh nÄƒng má»›i
- Kiá»ƒm tra code conventions vÃ  style guide Ä‘ang Ä‘Æ°á»£c Ã¡p dá»¥ng
- TÃ¬m hiá»ƒu flow hiá»‡n táº¡i cá»§a tÃ­nh nÄƒng liÃªn quan
- Tá»•ng há»£p vÃ  ghi chÃº cÃ¡c Ä‘iá»ƒm yáº¿u/háº¡n cháº¿ cá»§a dá»± Ã¡n hiá»‡n táº¡i
- Kiá»ƒm tra cÃ¡c váº¥n Ä‘á» tá»“n Ä‘á»ng vÃ  technical debt hiá»‡n cÃ³
- XÃ¡c Ä‘á»‹nh cÃ¡c pháº§n code cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng cho tÃ­nh nÄƒng má»›i
- ÄÃ¡nh giÃ¡ Ä‘á»™ á»•n Ä‘á»‹nh cá»§a há»‡ thá»‘ng hiá»‡n táº¡i

## Quáº£n LÃ½ Database Trong QuÃ¡ TrÃ¬nh NÃ¢ng Cáº¥p
- ***Báº®T BUá»˜C*** kiá»ƒm tra file db-schema.sql trÆ°á»›c khi thá»±c hiá»‡n báº¥t ká»³ thay Ä‘á»•i nÃ o liÃªn quan Ä‘áº¿n database
- ***Báº®T BUá»˜C*** cáº­p nháº­t file db-schema.sql ngay sau khi thá»±c hiá»‡n thay Ä‘á»•i cáº¥u trÃºc database
- ***Báº®T BUá»˜C*** táº¡o cÃ¡c script migration khi thay Ä‘á»•i cáº¥u trÃºc database Ä‘Ã£ tá»“n táº¡i
- ***Báº®T BUá»˜C*** backup dá»¯ liá»‡u trÆ°á»›c khi thá»±c hiá»‡n thay Ä‘á»•i cáº¥u trÃºc database
- ***Báº®T BUá»˜C*** kiá»ƒm tra cÃ¡c database hiá»‡n cÃ³ trÆ°á»›c khi táº¡o má»›i Ä‘á»ƒ trÃ¡nh trÃ¹ng láº·p
- ***KHUYáº¾N NGHá»Š*** táº­n dá»¥ng láº¡i cáº¥u trÃºc database hiá»‡n cÃ³ thay vÃ¬ táº¡o má»›i
- Cáº­p nháº­t lá»‹ch sá»­ thay Ä‘á»•i trong file db-schema.sql theo cÃº phÃ¡p:
  ```sql
  -- <ngÃ y> - <ngÆ°á»i thá»±c hiá»‡n> - <mÃ´ táº£ thay Ä‘á»•i>
  ```
- ThÃªm cÃ¡c comment mÃ´ táº£ chi tiáº¿t cho tá»«ng thay Ä‘á»•i cáº¥u trÃºc
- XÃ¡c Ä‘á»‹nh vÃ  ghi rÃµ tÃ¡c Ä‘á»™ng cá»§a thay Ä‘á»•i database Ä‘áº¿n chá»©c nÄƒng hiá»‡n cÃ³
- Kiá»ƒm thá»­ ká»¹ lÆ°á»¡ng sau khi thá»±c hiá»‡n thay Ä‘á»•i database
- Tham kháº£o thÃªm táº¡i file `.cursor/rules/database-management.mdc` cho hÆ°á»›ng dáº«n chi tiáº¿t

## Supabase MCP Trong QuÃ¡ TrÃ¬nh NÃ¢ng Cáº¥p
- ***Báº®T BUá»˜C*** kiá»ƒm tra cÃ i Ä‘áº·t Supabase MCP náº¿u dá»± Ã¡n sá»­ dá»¥ng Supabase
  ```bash
  # Kiá»ƒm tra xem Ä‘Ã£ cÃ i Ä‘áº·t chÆ°a
  which mcp-server-postgrest
  
  # Náº¿u chÆ°a, cÃ i Ä‘áº·t
  npm install -g @supabase/mcp-server-postgrest
  ```
- ***Báº®T BUá»˜C*** kiá»ƒm tra file `.env` chá»©a Ä‘áº§y Ä‘á»§ cáº¥u hÃ¬nh Supabase:
  ```
  SUPABASE_URL=https://your-project-url.supabase.co
  SUPABASE_ANON_KEY=your-anon-key
  SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
  ```
- ***Báº®T BUá»˜C*** yÃªu cáº§u ngÆ°á»i dÃ¹ng cáº¥u hÃ¬nh cÃ¡c biáº¿n thiáº¿u trÆ°á»›c khi tiáº¿p tá»¥c
- ***Báº®T BUá»˜C*** sá»­ dá»¥ng MCP Ä‘á»ƒ kiá»ƒm tra táº¥t cáº£ thay Ä‘á»•i liÃªn quan Ä‘áº¿n database:
  * Thay Ä‘á»•i cáº¥u trÃºc báº£ng
  * Thay Ä‘á»•i RLS policies
  * Thay Ä‘á»•i functions
  * Thay Ä‘á»•i triggers
  * Táº¡o má»›i hoáº·c thay Ä‘á»•i views
- ***Báº®T BUá»˜C*** kiá»ƒm tra tÃ¡c Ä‘á»™ng cá»§a thay Ä‘á»•i Ä‘áº¿n hiá»‡u nÄƒng thÃ´ng qua MCP
- ***Báº®T BUá»˜C*** cháº¡y MCP song song trong suá»‘t quÃ¡ trÃ¬nh nÃ¢ng cáº¥p:
  ```bash
  mcp-server-postgrest --apiUrl=$SUPABASE_URL/rest/v1 --apiKey=$SUPABASE_ANON_KEY --schema=public
  # Hoáº·c náº¿u script Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh trong package.json
  npm run mcp
  ```
- ***KHUYáº¾N NGHá»Š*** sá»­ dá»¥ng MCP Ä‘á»ƒ xÃ¡c thá»±c táº¥t cáº£ queries trÆ°á»›c khi triá»ƒn khai
- ***KHUYáº¾N NGHá»Š*** cáº­p nháº­t types tá»« schema database khi cÃ³ thay Ä‘á»•i
- ***KHUYáº¾N NGHá»Š*** giá»¯ sá»‘ lÆ°á»£ng database Ã­t nháº¥t cÃ³ thá»ƒ, trÃ¡nh táº¡o quÃ¡ nhiá»u database thá»­ nghiá»‡m
- Tham kháº£o thÃªm táº¡i file `.cursor/rules/supabase-mcp-workflow.mdc` cho hÆ°á»›ng dáº«n chi tiáº¿t

## PhÃ¢n TÃ­ch TÃ¡c Äá»™ng
- XÃ¡c Ä‘á»‹nh cÃ¡c file/component sáº½ bá»‹ áº£nh hÆ°á»Ÿng bá»Ÿi nÃ¢ng cáº¥p
- ÄÃ¡nh giÃ¡ tÃ¡c Ä‘á»™ng Ä‘áº¿n:
  * Performance vÃ  hiá»‡u suáº¥t há»‡ thá»‘ng
  * Báº£o máº­t vÃ  xá»­ lÃ½ dá»¯ liá»‡u
  * Tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng (UX)
  * Kháº£ nÄƒng má»Ÿ rá»™ng trong tÆ°Æ¡ng lai
  * Cáº¥u trÃºc vÃ  hiá»‡u suáº¥t database
- Æ¯á»›c tÃ­nh má»©c Ä‘á»™ thay Ä‘á»•i cáº§n thiáº¿t (minimal, moderate, extensive)
- XÃ¡c Ä‘á»‹nh cÃ¡c rá»§i ro tiá»m áº©n khi thá»±c hiá»‡n nÃ¢ng cáº¥p
- Dá»± Ä‘oÃ¡n cÃ¡c váº¥n Ä‘á» cÃ³ thá»ƒ phÃ¡t sinh trong quÃ¡ trÃ¬nh nÃ¢ng cáº¥p
- PhÃ¢n tÃ­ch dependency chain Ä‘á»ƒ trÃ¡nh breaking changes
- ÄÃ¡nh giÃ¡ tÃ¡c Ä‘á»™ng cá»§a thay Ä‘á»•i Ä‘áº¿n cÃ¡c module khÃ¡c
- TÃ¬m hiá»ƒu cÃ¡c ká»‹ch báº£n sá»­ dá»¥ng Ä‘á»ƒ Ä‘áº£m báº£o khÃ´ng gÃ¢y ra regression
- ÄÃ¡nh giÃ¡ tÃ¡c Ä‘á»™ng Ä‘áº¿n performance vá»›i cÃ¡c thay Ä‘á»•i dá»± kiáº¿n

## Táº¡o Káº¿ Hoáº¡ch NÃ¢ng Cáº¥p
- Táº¡o file `Upgrade_[TenTinhNang].md` trong thÆ° má»¥c documentation/upgrades/
- File káº¿ hoáº¡ch nÃ¢ng cáº¥p pháº£i bao gá»“m:
  * Má»¥c tiÃªu vÃ  scope cá»§a nÃ¢ng cáº¥p
  * TÃ³m táº¯t phÃ¢n tÃ­ch tÃ¡c Ä‘á»™ng
  * Danh sÃ¡ch cá»¥ thá»ƒ cÃ¡c file cáº§n thay Ä‘á»•i
  * Chi tiáº¿t thay Ä‘á»•i cho tá»«ng file
  * Thá»© tá»± thá»±c hiá»‡n cÃ¡c thay Ä‘á»•i
  * Chiáº¿n lÆ°á»£c kiá»ƒm thá»­
  * Æ¯á»›c tÃ­nh thá»i gian thá»±c hiá»‡n
  * Káº¿ hoáº¡ch rollback náº¿u nÃ¢ng cáº¥p tháº¥t báº¡i
- PhÃ¢n chia káº¿ hoáº¡ch thÃ nh cÃ¡c giai Ä‘oáº¡n (phases) vá»›i milestone rÃµ rÃ ng
- ÄÃ¡nh dáº¥u cÃ¡c task theo má»©c Ä‘á»™ Æ°u tiÃªn (P0, P1, P2)
- NhÃ³m cÃ¡c task theo module hoáº·c chá»©c nÄƒng
- Chá»‰ rÃµ dependencies giá»¯a cÃ¡c task
- Liá»‡t kÃª cÃ¡c task cá»¥ thá»ƒ vá»›i checklist
- Æ¯á»›c tÃ­nh thá»i gian vÃ  Ä‘á»™ phá»©c táº¡p cho tá»«ng task
- XÃ¡c Ä‘á»‹nh cÃ¡c thÃ nh pháº§n cáº§n táº¡o má»›i hoÃ n toÃ n
- XÃ¡c Ä‘á»‹nh cÃ¡c thÃ nh pháº§n cáº§n sá»­a Ä‘á»•i
- MÃ´ táº£ káº¿ hoáº¡ch kiá»ƒm thá»­ cho tá»«ng thay Ä‘á»•i

## Review Káº¿ Hoáº¡ch
- TrÃ¬nh bÃ y káº¿ hoáº¡ch nÃ¢ng cáº¥p cho ngÆ°á»i dÃ¹ng xem xÃ©t
- Giáº£i thÃ­ch rÃµ lÃ½ do cho tá»«ng thay Ä‘á»•i Ä‘á» xuáº¥t
- TrÃ¬nh bÃ y cÃ¡c lá»±a chá»n ká»¹ thuáº­t vÃ  lÃ½ do lá»±a chá»n
- Äá» xuáº¥t timeline thá»±c hiá»‡n
- Thu tháº­p feedback vÃ  Ä‘iá»u chá»‰nh káº¿ hoáº¡ch
- Láº·p láº¡i quy trÃ¬nh review cho Ä‘áº¿n khi káº¿ hoáº¡ch Ä‘Æ°á»£c cháº¥p thuáº­n
- LÆ°u trá»¯ káº¿ hoáº¡ch cuá»‘i cÃ¹ng Ä‘Ã£ Ä‘Æ°á»£c phÃª duyá»‡t
- XÃ¡c Ä‘á»‹nh cÃ¡c rá»§i ro tiá»m áº©n vÃ  biá»‡n phÃ¡p giáº£m thiá»ƒu
- TrÃ¬nh bÃ y káº¿ hoáº¡ch kiá»ƒm thá»­ vÃ  validation
- Thá»‘ng nháº¥t vá» tiÃªu chÃ­ hoÃ n thÃ nh
- Äáº£m báº£o ngÆ°á»i dÃ¹ng hiá»ƒu rÃµ vá» tÃ¡c Ä‘á»™ng vÃ  thay Ä‘á»•i dá»± kiáº¿n

## Thá»±c Hiá»‡n NÃ¢ng Cáº¥p
- Táº¡o backup cho táº¥t cáº£ file sáº½ bá»‹ áº£nh hÆ°á»Ÿng (xem Quy Táº¯c Báº£o Vá»‡ File)
- Triá»ƒn khai cÃ¡c thay Ä‘á»•i theo Ä‘Ãºng káº¿ hoáº¡ch Ä‘Ã£ Ä‘Æ°á»£c phÃª duyá»‡t
- TuÃ¢n thá»§ nghiÃªm ngáº·t code conventions hiá»‡n cÃ³
- Cáº­p nháº­t tráº¡ng thÃ¡i cÃ¡c task trong káº¿ hoáº¡ch
- Kiá»ƒm thá»­ liÃªn tá»¥c trong quÃ¡ trÃ¬nh thá»±c hiá»‡n
- Cáº­p nháº­t documentation song song vá»›i viá»‡c thay Ä‘á»•i code
- KhÃ´ng má»Ÿ rá»™ng scope ngoÃ i káº¿ hoáº¡ch Ä‘Ã£ Ä‘Æ°á»£c phÃª duyá»‡t
- BÃ¡o cÃ¡o báº¥t ká»³ váº¥n Ä‘á» phÃ¡t sinh nÃ o cho ngÆ°á»i dÃ¹ng
- Triá»ƒn khai theo tá»«ng phase Ä‘Ã£ phÃ¢n chia
- Kiá»ƒm thá»­ má»—i thay Ä‘á»•i trÆ°á»›c khi tiáº¿p tá»¥c
- Äáº£m báº£o cÃ¡c unit test Ä‘ang pass sau má»—i thay Ä‘á»•i
- Theo dÃµi performance Ä‘á»ƒ Ä‘áº£m báº£o khÃ´ng giáº£m sÃºt
- Commit code thÆ°á»ng xuyÃªn vá»›i thÃ´ng Ä‘iá»‡p rÃµ rÃ ng

## Kiá»ƒm Thá»­ VÃ  Tá»•ng Káº¿t
- Thá»±c hiá»‡n kiá»ƒm thá»­ toÃ n diá»‡n sau khi hoÃ n thÃ nh nÃ¢ng cáº¥p
- Äáº£m báº£o táº¥t cáº£ tÃ­nh nÄƒng má»›i hoáº¡t Ä‘á»™ng nhÆ° mong Ä‘á»£i
- Kiá»ƒm tra khÃ´ng cÃ³ regression Ä‘á»‘i vá»›i tÃ­nh nÄƒng hiá»‡n cÃ³
- Cáº­p nháº­t táº¥t cáº£ documentation liÃªn quan
- Táº¡o tÃ i liá»‡u hÆ°á»›ng dáº«n náº¿u tÃ­nh nÄƒng má»›i cáº§n hÆ°á»›ng dáº«n sá»­ dá»¥ng
- Tá»•ng káº¿t cÃ´ng viá»‡c Ä‘Ã£ thá»±c hiá»‡n so vá»›i káº¿ hoáº¡ch ban Ä‘áº§u
- Ghi láº¡i cÃ¡c bÃ i há»c kinh nghiá»‡m trong quÃ¡ trÃ¬nh nÃ¢ng cáº¥p
- ÄÃ¡nh dáº¥u hoÃ n thÃ nh trong master tracking document
- Thá»±c hiá»‡n kiá»ƒm thá»­ regression toÃ n diá»‡n
- So sÃ¡nh performance trÆ°á»›c vÃ  sau khi nÃ¢ng cáº¥p
- ÄÃ¡nh giÃ¡ UX cá»§a tÃ­nh nÄƒng má»›i
- Láº­p danh sÃ¡ch cÃ¡c váº¥n Ä‘á» cáº§n theo dÃµi sau khi triá»ƒn khai
- Cáº­p nháº­t documentation vÃ  changelog

## Chiáº¿n LÆ°á»£c NÃ¢ng Cáº¥p An ToÃ n
- Ãp dá»¥ng nguyÃªn táº¯c "thay Ä‘á»•i nhá», deployment thÆ°á»ng xuyÃªn"
- Sá»­ dá»¥ng feature flags Ä‘á»ƒ kiá»ƒm soÃ¡t viá»‡c triá»ƒn khai tÃ­nh nÄƒng má»›i
- Thá»±c hiá»‡n A/B testing khi cÃ³ thá»ƒ
- Chuáº©n bá»‹ káº¿ hoáº¡ch rollback cho má»—i thay Ä‘á»•i
- ThÆ°á»ng xuyÃªn merge code tá»« nhÃ¡nh chÃ­nh vÃ o nhÃ¡nh feature
- Sá»­ dá»¥ng cÃ¡c ká»¹ thuáº­t nhÆ° Blue-Green Deployment khi cáº§n
- Theo dÃµi metrics sau má»—i thay Ä‘á»•i
- Chuáº©n bá»‹ phÆ°Æ¡ng Ã¡n xá»­ lÃ½ cÃ¡c váº¥n Ä‘á» phÃ¡t sinh
- Äáº£m báº£o tÃ­nh tÆ°Æ¡ng thÃ­ch ngÆ°á»£c khi cÃ³ thá»ƒ
- PhÃ¢n loáº¡i thay Ä‘á»•i theo má»©c Ä‘á»™ rá»§i ro

## PhÃ¢n Biá»‡t Vá»›i Quy TrÃ¬nh Dá»± Ãn Má»›i
| Quy TrÃ¬nh Dá»± Ãn Má»›i | Quy TrÃ¬nh NÃ¢ng Cáº¥p Dá»± Ãn |
|---------------------|---------------------------|
| Brainstorming nhiá»u vÃ²ng vá»›i ngÆ°á»i dÃ¹ng | RÃ  soÃ¡t dá»± Ã¡n hiá»‡n táº¡i |
| NghiÃªn cá»©u Ä‘á»‘i thá»§ cáº¡nh tranh | PhÃ¢n tÃ­ch tÃ¡c Ä‘á»™ng cá»§a thay Ä‘á»•i |
| Táº¡o instruction tá»« Ä‘áº§u | Táº¡o káº¿ hoáº¡ch nÃ¢ng cáº¥p dá»±a trÃªn dá»± Ã¡n hiá»‡n cÃ³ |
| XÃ¢y dá»±ng tá»« zero | Thay Ä‘á»•i dá»±a trÃªn code Ä‘Ã£ tá»“n táº¡i |
| Tá»± do trong viá»‡c chá»n cáº¥u trÃºc vÃ  pattern | TuÃ¢n thá»§ cáº¥u trÃºc vÃ  pattern hiá»‡n cÃ³ |
| Focus vÃ o viá»‡c xÃ¢y dá»±ng Ä‘Ãºng Ä‘áº¯n tá»« Ä‘áº§u | Focus vÃ o viá»‡c giá»¯ tÃ­nh tÆ°Æ¡ng thÃ­ch vÃ  á»•n Ä‘á»‹nh |
| Cáº­p nháº­t .code-workspace vÃ  táº¡o workspace má»›i | Sá»­ dá»¥ng workspace hiá»‡n cÃ³ |

## Dáº¥u Hiá»‡u Nháº­n Biáº¿t Dá»± Ãn Cáº§n NÃ¢ng Cáº¥p
- Nhiá»u bug reports liÃªn quan Ä‘áº¿n má»™t module cá»¥ thá»ƒ
- Performance giáº£m dáº§n theo thá»i gian
- KhÃ³ khÄƒn khi thÃªm tÃ­nh nÄƒng má»›i
- Pháº£n há»“i tiÃªu cá»±c tá»« ngÆ°á»i dÃ¹ng vá» UI/UX
- Codebase khÃ³ báº£o trÃ¬ vÃ  má»Ÿ rá»™ng
- CÃ´ng nghá»‡ vÃ  thÆ° viá»‡n lá»—i thá»i
- Tá»· lá»‡ technical debt cao
- Thiáº¿u tÃ­nh nÄƒng cáº¡nh tranh so vá»›i cÃ¡c sáº£n pháº©m tÆ°Æ¡ng tá»±
- KhÃ´ng Ä‘Ã¡p á»©ng Ä‘Æ°á»£c yÃªu cáº§u kinh doanh má»›i
- Chi phÃ­ báº£o trÃ¬ cao

@file ../_backups/backup_log.md 

## Quáº£n LÃ½ Resource Trong QuÃ¡ TrÃ¬nh NÃ¢ng Cáº¥p
- ***Báº®T BUá»˜C*** kiá»ƒm tra vÃ  cáº­p nháº­t cÃ¡c Cursor Rules trÆ°á»›c khi báº¯t Ä‘áº§u nÃ¢ng cáº¥p dá»± Ã¡n
- ***Báº®T BUá»˜C*** rÃ  soÃ¡t cÃ¡c icon hiá»‡n cÃ³ vÃ  xÃ¡c Ä‘á»‹nh nhu cáº§u bá»• sung icon má»›i
- ***Báº®T BUá»˜C*** sá»­ dá»¥ng Icon Library API Ä‘á»ƒ tÃ¬m kiáº¿m vÃ  táº£i vá» cÃ¡c icon má»›i cáº§n thiáº¿t
- ***Báº®T BUá»˜C*** backup thÆ° má»¥c assets/icons trÆ°á»›c khi thá»±c hiá»‡n thay Ä‘á»•i lá»›n
- ***KHUYáº¾N NGHá»Š*** duy trÃ¬ tÃ­nh nháº¥t quÃ¡n giá»¯a cÃ¡c icon má»›i vÃ  cÅ©
- Quy trÃ¬nh quáº£n lÃ½ icon trong nÃ¢ng cáº¥p dá»± Ã¡n:
  1. Kiá»ƒm tra danh sÃ¡ch icon hiá»‡n cÃ³ vÃ  style guide
  2. XÃ¡c Ä‘á»‹nh nhu cáº§u icon má»›i tá»« káº¿ hoáº¡ch nÃ¢ng cáº¥p
  3. TÃ¬m kiáº¿m icon phÃ¹ há»£p qua Icon Library API:
     - Sá»­ dá»¥ng `/search` endpoint vá»›i tá»« khÃ³a cá»¥ thá»ƒ
     - Sá»­ dá»¥ng `/suggest` endpoint vá»›i mÃ´ táº£ ngá»¯ cáº£nh
  4. Táº£i icon má»›i vá» vÃ  Ä‘áº·t trong cáº¥u trÃºc thÆ° má»¥c phÃ¹ há»£p
  5. Cáº­p nháº­t README.md trong thÆ° má»¥c assets/icons vá»›i thÃ´ng tin má»›i
  6. Tham chiáº¿u icon má»›i trong code vá»›i Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i
- CÃ¡c trÆ°á»ng há»£p Ä‘áº·c biá»‡t:
  * Thay tháº¿ icon cÅ©: LÆ°u báº£n sao vÃ o thÆ° má»¥c backup trÆ°á»›c khi thay tháº¿
  * Thay Ä‘á»•i style icon: Thay tháº¿ Ä‘á»“ng bá»™ táº¥t cáº£ icon liÃªn quan
  * ThÃªm má»›i bá»™ icon: Táº¡o thÆ° má»¥c con phÃ¹ há»£p trong assets/icons

## Cáº­p Nháº­t Cursor Rules
- ***Báº®T BUá»˜C*** kiá»ƒm tra phiÃªn báº£n má»›i nháº¥t cá»§a cÃ¡c rules thÃ´ng qua API endpoint `/rules`
- ***Báº®T BUá»˜C*** cáº­p nháº­t cÃ¡c rules hiá»‡n cÃ³ vá»›i phiÃªn báº£n má»›i nháº¥t
- ***Báº®T BUá»˜C*** xem xÃ©t bá»• sung rules má»›i phÃ¹ há»£p vá»›i tÃ­nh nÄƒng nÃ¢ng cáº¥p
- ***KHUYáº¾N NGHá»Š*** thá»±c hiá»‡n Ä‘á»“ng bá»™ rules trÆ°á»›c khi báº¯t Ä‘áº§u nÃ¢ng cáº¥p
- Quy trÃ¬nh cáº­p nháº­t rules:
  1. Kiá»ƒm tra phiÃªn báº£n hiá»‡n táº¡i cá»§a rules trong `.cursor/rules`
  2. So sÃ¡nh vá»›i phiÃªn báº£n má»›i nháº¥t tá»« API
  3. Táº£i vá» cÃ¡c rules cáº§n cáº­p nháº­t:
     ```bash
     # Táº£i rules tá»« server vá» local
     npm run rules:download
     ```
  4. Cáº­p nháº­t file `.cursorrc` náº¿u cáº§n kÃ­ch hoáº¡t rules má»›i
  5. Ghi láº¡i thay Ä‘á»•i trong Changelog.md
- Khi thÃªm má»›i rule cho dá»± Ã¡n:
  1. Táº¡o file rule má»›i trong `.cursor/rules` vá»›i Ä‘á»‹nh dáº¡ng .mdc
  2. Cáº¥u trÃºc file vá»›i metadata vÃ  ná»™i dung phÃ¹ há»£p
  3. Äá»“ng bá»™ lÃªn server:
     ```bash
     # Táº£i rule má»›i lÃªn server
     npm run rules:upload
     ```
  4. Cáº­p nháº­t Changelog.md vá»›i thÃ´ng tin vá» rule má»›i